select * 
from news n
where n.event in 

select e.name, e.date, e.time, v.name as vanue, s.name as sport
from events e, vanues  v, sports s
where e.vanue = v.id and e.sport = s.id
order by e.date , e.time
limit 3

select *
from vanues

select *
from sports

insert into events values
("400M FREESTYLE MEN", date("now"), time("now"),1, (select id from sports where name like "Swimming"))

select * from events

update events set sport=2 where oid = 5

insert into news (title, date, time, content, event, user) values 
(select title, date("now"), time("now"), content, event, user from news)


select id, event from news

update news set event = (select name from events where oid = 2) where id = 1

select e.name, s.name
from events e, sports s
where e.sport = s.id

select n.title as title,n.id as  news_link,  e.name as event, e.name as  events_link, s.name as sport,  s.id as  sports_link, n.datetime as datetime
from news n, events e, sports s
where n.event = e.name and e.sport = s.id

select n.title as title,n.id as  news_link, 
n.datetime as date, n.user as reporter, n.content as content,
p.link as pic
from news n, news_pics np, pictures p
where np.news = n.id and np.pic = (select id from pictures limit 1)

select s.name as sport, s.id as sports_link
from sports s

select * from news
create table pictures (
	id integer primary key autoincrement not null,
	link varchar(500) not null,
	des varchar(500) not null
)
select * from pictures
select * from news_pics

insert into news_pics (news, pic, user) values
(5, 5,"yuankunluo")

insert into pictures(link, des) values
("001.jpg","test"),
("002.jpg", "LOve"),
("003.jpg","love"),
("004.jpg","love"),
("005.jpg","love")

select n.title as title,n.id as  news_link,  c.count as comment
n.datetime as date, n.user as reporter, n.content as content,
p.link as pic
from news n, news_pics np, pictures p, 
(select news ,count(oid) as count
from comments
group by news
order by  count) c
where np.news = n.id and np.pic = (select id from pictures limit 1) and c.


insert into comments (news, user, content,datetime) values
(5,"yuankunluo","i",datetime("now"))

select * from news
select * from vanues
select * from addresses

insert into addresses (post_code, line_1) values
("E161XL","Royal Victoria Dock")

insert into vanues (name, city, address) values
("Aquatics Centre",2,1),
("Basketball Arena",2,1),
("BMX Track",2,1),
("Eton Manor",2,1),
("Copper Box",2,1),
("Velodrome",2,1),
("Riverbank Arena",2,1),
("Olympic Stadium",2,1),
("Water Polo Arena",2,1)

select v.name as vanue, v.id as  vanue_link
from vanues v

select s.name as vanue, s.id as  vanue_link
from sports s

select e.name as event, e.name as event_link
from events e

select * from athelets

select name as name, a2_code as name_link
from countries;

select * from athelets;

select * from events
update events set name = lower(name)

insert into events values
("I LOVE YOU", date("now"), time("now"), 1, 15)

select * from addresses
update addresses set post_code = lower(post_code), line_2 = lower(line_2)

select * from athelets

update athelets set first_name = lower(first_name), last_name=lower(last_name),
gender= lower(gender), country = lower(country)

update cities set postcode = lower(postcode),
country = lower(country), state = lower(state), name = lower(name)

update countries 
 set name =  lower(name)

update news 
set title =  lower(title),event =  lower(event)

update paticipants set event = lower(event)

update sports set name = lower(name)

select * from users

update users set
last_name = lower(last_name)

update vanues set name = lower(n

create table athelets (
first_Name varchar(255) not null, 
last_Name varchar(255) not null, 
gender char(1) not null, 
birth_date varchar(255) not null, 
country varchar(5) not null,  
pic integer,
primary key(first_name, last_name, gender, birth_date, country),
foreign key (country) references countries(a2_code),
foreign key (pic) references pictrues(id)
)

select * from athletes

insert into athelets (first_name, last_name, gender, birth_date, country)
values
(lower("Michael") ,lower("Phelps"), lower("m"),date("1988-11-06"),"us" )

select a.*, c.name
from athelets a, countries c
where a.country = c.a2_code

select * from countries
where a2_code = "bd"


create table teams
( name varchar(255) not null,
country varchar(255) not null,
primary key(name, country),
foreign key(country) references  countries(a2_code)
)

select * from sports

select oid from events
where name = "i love you"

update events set date ="2000-01-01" where oid = 6

insert into events(name, date, time, vanue, sport, type)
values 
("i love you too i love love", date("1988-08-22"), time("16:44"),1,3,"p")

select * from events 
where name = "i love you"

update events set type = "f" where vanue = 1

create table athletes (
	firstname varchar(255) not null,
	lastname varchar(255) not null,
	gender char(1) not null,
	birthday varchar(255) not null,
	country char(2) not null,
	pic integer,
	primary key(firstname, lastname, gender, birthday,country),
	foreign key (country) references countries(a2_code),
	foreign key (pic) references pictures(id)
)

select * from athletes

insert into athletes(firstname, lastname,gender, birthday,country)
values
("yuankun","luo","f","1988-11-06","cn")

select * from events

delete from events where rowid >6

create table participants (
	event varchar(255) not null,
	athlete integer not null,
	rank integer not null,
	team integer,
	result varchar(255),
	medal char(1),
	foreign key (event) references events(name),
	foreign key (athlete) references athletes(oid)
)